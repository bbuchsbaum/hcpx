% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/neuroim2_parcellate.R
\name{parcellate}
\alias{parcellate}
\title{Extract parcel time series from a loaded NeuroVec}
\usage{
parcellate(vec, parcellation, method = c("mean", "median", "pca1"))
}
\arguments{
\item{vec}{NeuroVec object (from \code{\link[=load_asset]{load_asset()}} or \code{\link[=load_run]{load_run()}})}

\item{parcellation}{ClusteredNeuroVol from \code{\link[=load_parcellation]{load_parcellation()}}, or
a parcellation name that will be loaded automatically.}

\item{method}{Aggregation method: "mean" (default), "median", "pca1"
(first principal component)}
}
\value{
Matrix with class \code{parcel_timeseries} and dimensions
(n_timepoints x n_parcels). Each column is the aggregated time series
for one parcel. Attributes include \code{parcel_labels}, \code{method}, and
\code{n_parcels}.
}
\description{
Projects a 4D NeuroVec (typically CIFTI dtseries) to parcel space,
returning a parcel-level time series matrix.
}
\details{
For each parcel, the time series of all voxels/vertices within that
parcel are aggregated using the specified method. The result is a
much smaller matrix suitable for connectivity analysis, classification,
or other downstream analyses.
}
\examples{
\dontrun{
h <- hcpx_ya()
vec <- load_run(h, subject_id = "100307", task = "WM", direction = "LR")
parc <- load_parcellation(h, "Schaefer400")
ts <- parcellate(vec, parc, method = "mean")
}
}
