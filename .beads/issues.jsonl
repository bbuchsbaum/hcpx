{"id":"hcpx-05g","title":"Extract duplicate code patterns","description":"Code duplication found in 6 areas:\n\n1. R/catalog_build.R: ingest_subjects_csv() and ingest_behavioral_csv() share ~80% code -\u003e extract ingest_csv_with_mapping()\n2. R/cache.R: SQL placeholder pattern repeated 4x -\u003e extract sql_placeholders(n)\n3. R/plan.R: Duplicate local path computation -\u003e extract to shared helper\n4. R/schema.R: Each schema_create_* has identical table-exists check -\u003e use decorator or helper\n5. R/backends_aws.R + backends_rest.R: Similar curl download logic -\u003e extract common helper\n6. Test files: Setup boilerplate repeated -\u003e create helper-hcpx.R with with_test_hcpx() fixture","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-18T19:16:11.248741-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:16:11.248741-05:00"}
{"id":"hcpx-07z","title":"Fix DESCRIPTION Author/Maintainer for R CMD check","description":"R CMD check in this environment errors that required DESCRIPTION fields Author and Maintainer are missing, despite Authors@R. Add explicit Author/Maintainer fields to satisfy check.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T21:08:10.459419-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T21:08:57.140181-05:00","closed_at":"2026-01-18T21:08:57.140181-05:00","close_reason":"Added explicit Author/Maintainer fields; R CMD check now proceeds past DESCRIPTION validation"}
{"id":"hcpx-0ft","title":"Implement hcpx_ya() constructor and hcpx object","description":"Create the main entry point hcpx_ya() that returns an hcpx S3 object with release, engine, cache, backend, connection, policy, and versions.","notes":"Acceptance Criteria:\n- [ ] hcpx_ya() creates handle with all required fields\n- [ ] Defaults work: engine=duckdb, backend=aws, release=HCP_1200\n- [ ] print.hcpx() shows friendly summary\n- [ ] hcpx_tbl() attaches context to query results\n- [ ] Lazy DB connection (reconnects if needed)\n\nFile: R/hcpx.R\nParallelization: Can run in parallel with schema.R work\nBlockers: Package Infrastructure Setup","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:11:32.535934-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:39:29.317366-05:00","closed_at":"2026-01-18T18:39:29.317367-05:00","dependencies":[{"issue_id":"hcpx-0ft","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.474001-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-14k","title":"Remove duplicate derived() function from assets.R","description":"CRITICAL: derived() is defined in BOTH R/assets.R:88-124 AND R/derived.R:303-359. This will cause build failures. Remove the definition from assets.R, keeping the complete version in derived.R.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-18T19:14:55.101036-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:18:39.095494-05:00","closed_at":"2026-01-18T19:18:39.095498-05:00"}
{"id":"hcpx-16x","title":"Implement AWS backend (backends_aws.R)","description":"S3 backend using presigned URLs with curl multi handles for fast concurrent downloads.","notes":"AWS backend implemented with presigned URLs and curl downloads","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:14:01.274712-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:57:20.639912-05:00","closed_at":"2026-01-18T18:57:20.639914-05:00","dependencies":[{"issue_id":"hcpx-16x","depends_on_id":"hcpx-5lg","type":"blocks","created_at":"2026-01-18T18:16:47.111805-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-175","title":"Add materialize.default() with helpful error message","description":"API design: materialize() generic only has methods for hcpx_plan and hcpx_derivation. If called with wrong type, error is unhelpful.\n\nAdd materialize.default() that provides clear guidance:\nmaterialize.default \u003c- function(x, ...) {\n  cli::cli_abort(c(\n    \"Cannot materialize object of class {.cls {class(x)[1]}}\",\n    \"i\" = \"Use {.code materialize()} with an hcpx_plan or hcpx_derivation\"\n  ))\n}","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T19:16:14.253342-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:30:50.673894-05:00","closed_at":"2026-01-18T20:30:50.673896-05:00"}
{"id":"hcpx-19v","title":"Implement load_run() function","description":"Load all assets for a task run as a named list containing:\n- $dtseries: NeuroVec (the time series)\n- $confounds: data.frame (motion parameters, etc.)\n- $evs: list of data.frames (one per condition)\n\nUses bundle parameter to determine which files to load. Depends on load_asset().","notes":"Implementation complete in R/neuroim2_load.R","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:36.77363-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:45.293004-05:00","closed_at":"2026-01-18T19:07:45.293007-05:00","dependencies":[{"issue_id":"hcpx-19v","depends_on_id":"hcpx-p2a","type":"blocks","created_at":"2026-01-18T18:45:55.443276-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-1c0","title":"Implement manifest I/O (write_manifest, read_manifest)","description":"JSON serialization for hcpx_plan objects. Enables reproducible, shareable dataset definitions.","notes":"write_manifest() and read_manifest() implemented","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:13:14.58541-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:17.745328-05:00","closed_at":"2026-01-18T18:49:17.745329-05:00","dependencies":[{"issue_id":"hcpx-1c0","depends_on_id":"hcpx-csz","type":"blocks","created_at":"2026-01-18T18:16:39.759683-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-1re","title":"Document 12 backend S3 methods with @rdname pattern","description":"All backend S3 methods only have @export, no full roxygen blocks:\n\nAWS (backends_aws.R):\n- backend_list.hcpx_backend_aws\n- backend_head.hcpx_backend_aws  \n- backend_presign.hcpx_backend_aws\n- backend_download.hcpx_backend_aws\n\nREST (backends_rest.R):\n- backend_list.hcpx_backend_rest\n- backend_head.hcpx_backend_rest\n- backend_presign.hcpx_backend_rest\n- backend_download.hcpx_backend_rest\n\nLocal (backends_local.R):\n- backend_list.hcpx_backend_local\n- backend_head.hcpx_backend_local\n- backend_presign.hcpx_backend_local\n- backend_download.hcpx_backend_local\n\nSolution: Create generics with full docs, use @rdname on methods","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T20:24:04.993892-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:17:09.699298-05:00","closed_at":"2026-01-18T22:17:09.699306-05:00","labels":["docs"]}
{"id":"hcpx-29s","title":"Phase 4: REST + Local Backends","description":"Complete backend coverage: REST/ConnectomeDB for authenticated downloads, local mirror for existing data.","notes":"Acceptance Criteria:\n- [ ] REST backend with cookie/session authentication\n- [ ] Local backend for existing directory mirrors\n- [ ] Both backends implement full backend interface\n- [ ] Download works seamlessly across all backends\n\nDeliverable: Full backend flexibility.\nBlockers: Phase 3 complete (backend interface proven with AWS)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:14:15.058065-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:06:29.252676-05:00","closed_at":"2026-01-18T19:06:29.25269-05:00"}
{"id":"hcpx-2d6","title":"Support ConnectomeDB powered by BALSA downloads (Aspera/ascp)","description":"ConnectomeDB has migrated to BALSA; BALSA promotes Aspera downloads and notes new HCP-YA/HCPA releases are not yet on Amazon S3. Add a new backend or download path that can use IBM Aspera CLI (ascp) to fetch packages/selected files, with opt-in integration tests and documentation.","acceptance_criteria":"User can download a known open-access BALSA dataset/package via hcpx with ascp installed; integration tests gated by env vars; docs mention setup.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T20:50:20.368794-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T21:00:04.867773-05:00","closed_at":"2026-01-18T21:00:04.867773-05:00","close_reason":"Implemented hcpx_backend_balsa with ascp downloader + env-gated integration tests and vignette note"}
{"id":"hcpx-2g3","title":"Path parser unit tests (CRITICAL)","description":"Comprehensive test suite for path parsing. This is foundational - must cover all HCP path patterns and edge cases.","notes":"Acceptance Criteria:\n- [ ] Tests for all 7 task types (WM, MOTOR, GAMBLING, LANGUAGE, SOCIAL, RELATIONAL, EMOTION)\n- [ ] Tests for all directions (LR, RL)\n- [ ] Tests for all spaces (MNINonLinear, T1w, unprocessed)\n- [ ] Tests for all file types (dtseries, nii.gz, ev, confounds, sbref, qc)\n- [ ] Tests for edge cases and malformed paths\n- [ ] Tests for rfMRI vs tfMRI distinction\n- [ ] \u003e95% code coverage on path parser\n\nFile: tests/testthat/test-utils_paths.R\nParallelization: Should run as path parser is developed\nBlockers: path parser implementation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:15:43.925365-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:36:57.986409-05:00","closed_at":"2026-01-18T18:36:57.98641-05:00","dependencies":[{"issue_id":"hcpx-2g3","depends_on_id":"hcpx-ams","type":"blocks","created_at":"2026-01-18T18:17:03.848397-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-2nh","title":"Implement cache_prune() with LRU eviction","description":"Prune cache to target size using LRU (least recently used) strategy. Respects pinned files.","notes":"cache_prune() implemented with LRU eviction","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:13:28.08229-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:18.012416-05:00","closed_at":"2026-01-18T18:49:18.012417-05:00","dependencies":[{"issue_id":"hcpx-2nh","depends_on_id":"hcpx-z26","type":"blocks","created_at":"2026-01-18T18:16:40.0874-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-2uh","title":"Implement task dictionary (tasks.yml + tasks.R)","description":"Task dictionary mapping canonical names to synonyms, completion flags, expected runs, and directions. task_dictionary() function to query it.","notes":"Verified: task_dictionary() works, returns 7 tasks with synonyms, completion flags, expected runs. resolve_task_name() resolves synonyms correctly.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:06.554245-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:46:12.191987-05:00","closed_at":"2026-01-18T18:46:12.191991-05:00","dependencies":[{"issue_id":"hcpx-2uh","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.826267-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-3jd","title":"Tests for neuroim2_load.R","description":"Create tests for load_asset(), load_run(), load_task() in test-neuroim2_load.R.\n\nTests should cover:\n- load_asset: file type detection, mode selection, error handling for missing assets\n- load_run: run_id parsing, bundle filtering, assembling run data\n- load_task: multi-run loading, concatenation, run boundaries\n\nUse mocked fixtures since real HCP data requires downloads.","notes":"Completed: tests/testthat/test-neuroim2_load.R now covers load_asset() dispatch via mocked loader, load_run() error/assembly (dtseries + confounds + named EVs), and load_task(concat=TRUE) with run_boundaries + EV onset offsets.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:15:36.532878-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:18:10.319005-05:00","closed_at":"2026-01-18T22:18:10.319008-05:00"}
{"id":"hcpx-48c","title":"Rename curl handle variable from h to curl_handle","description":"Variable naming confusion: 'h' is used for both hcpx handle AND curl handle throughout the codebase. This creates confusion.\n\nFiles affected:\n- R/download.R:201\n- R/backends_rest.R:68, 148, 179, 235, 281\n- R/backends_aws.R:56, 95, 142\n\nRename curl handles to 'curl_handle' or 'curl_h' for clarity.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-18T19:15:28.644667-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:30:10.050627-05:00","closed_at":"2026-01-18T20:30:10.050628-05:00"}
{"id":"hcpx-4gm","title":"Implement errors.R - structured conditions","description":"Consistent error handling with structured conditions. Makes debugging and error recovery easier.","notes":"Verified: hcpx_error() base constructor with metadata, hcpx_not_found(), hcpx_auth_error(), hcpx_download_error() all implemented with proper class hierarchy.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:15:27.551926-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:48:27.557685-05:00","closed_at":"2026-01-18T18:48:27.557687-05:00","dependencies":[{"issue_id":"hcpx-4gm","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.916576-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-4hd","title":"Implement policy.R - access tier enforcement","description":"Policy engine for access tier tagging and enforcement. Prevents accidental export of restricted data.","notes":"Implemented: describe_variable(), is_restricted(), get_access_tier(), policy_check_access(), hcpx_policy(), list_variables(), policy_summary(). Supports open/tier1/tier2 tiers. 496 tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:15:26.723788-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:58:47.613382-05:00","closed_at":"2026-01-18T18:58:47.613384-05:00","dependencies":[{"issue_id":"hcpx-4hd","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:56.514313-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-5ez","title":"Create test-neuroim2_parcellate.R","description":"Test coverage gap: R/neuroim2_parcellate.R has NO test file. Need tests for:\n- load_parcellation() with valid/invalid parcellation names\n- parcellate() with different aggregation methods (mean, median, pca1)\n- list_parcellations() return structure\n- Edge cases: empty parcellation, dimension mismatches","notes":"Completed: tests/testthat/test-neuroim2_parcellate.R now covers list_parcellations(), load_parcellation() (error + local file + asset_id dispatch), parcellate() aggregation methods and edge cases.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:15:26.806935-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:25:18.39221-05:00","closed_at":"2026-01-18T20:25:18.392212-05:00"}
{"id":"hcpx-5jn","title":"Implement cache_pin() and cache_unpin()","description":"Pin assets to prevent LRU eviction. Essential for protecting important downloads.","notes":"cache_pin() and cache_unpin() implemented","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:13:29.245834-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:17.920841-05:00","closed_at":"2026-01-18T18:49:17.920843-05:00","dependencies":[{"issue_id":"hcpx-5jn","depends_on_id":"hcpx-z26","type":"blocks","created_at":"2026-01-18T18:16:40.17179-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-5k9","title":"Implement cache_status() function","description":"Summary of cache state: total size, file counts, pinned items, last access times.","notes":"cache_status() implemented","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:13:27.118686-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:18.100061-05:00","closed_at":"2026-01-18T18:49:18.100062-05:00","dependencies":[{"issue_id":"hcpx-5k9","depends_on_id":"hcpx-z26","type":"blocks","created_at":"2026-01-18T18:16:40.007605-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-5lg","title":"Implement backend interface definition","description":"Define the pluggable backend interface that all backends (AWS, REST, local) must implement.","notes":"Verified: Backend interface defined with UseMethod S3 generics: backend_list, backend_head, backend_presign, backend_download.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:14:00.022635-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:48:51.691735-05:00","closed_at":"2026-01-18T18:48:51.691737-05:00","dependencies":[{"issue_id":"hcpx-5lg","depends_on_id":"hcpx-0ft","type":"blocks","created_at":"2026-01-18T18:16:46.935551-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-5to","title":"Implement overview() function","description":"Print useful summaries for any hcpx object or query result. Shows counts, completion rates, and actionable hints.","notes":"Acceptance Criteria:\n- [ ] overview(h) shows release, backend, cache status, catalog info\n- [ ] overview(subjects_tbl) shows subject counts, gender breakdown\n- [ ] overview(tasks_tbl) shows task counts, completion rates\n- [ ] overview(assets_tbl) shows file counts, sizes, types\n- [ ] Includes actionable code hints\n\nFile: R/overview.R\nParallelization: Can run in parallel with query functions\nBlockers: subjects(), tasks(), assets()","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:25.441719-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:42:24.867486-05:00","closed_at":"2026-01-18T18:42:24.867488-05:00","dependencies":[{"issue_id":"hcpx-5to","depends_on_id":"hcpx-qfw","type":"blocks","created_at":"2026-01-18T18:16:32.469082-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-5to","depends_on_id":"hcpx-qha","type":"blocks","created_at":"2026-01-18T18:16:32.552503-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-5to","depends_on_id":"hcpx-ii2","type":"blocks","created_at":"2026-01-18T18:16:32.642831-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-6c2","title":"Add missing @examples to exported functions","description":"Add @examples to exported functions flagged by roxygen audit (hcpx_cache, hcpx_close, hcpx_keyring_clear, hcpx_auth_status, materialize, cache_list, unregister_recipe, policy_summary, load_asset/load_run/load_task, concat_vecs, load_parcellation, parcellate, list_parcellations).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:25:47.088771-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:31:43.787134-05:00","closed_at":"2026-01-18T19:31:43.787134-05:00","close_reason":"Added @examples to flagged exported functions"}
{"id":"hcpx-6fc","title":"Add tests for neuroim2 functions","description":"Create testthat tests for the neuroim2 data loading layer:\n- test-neuroim2_load.R: tests for load_asset(), load_run(), load_task()\n- test-neuroim2_parcellate.R: tests for load_parcellation(), parcellate()\n- test-neuroim2_utils.R: tests for extract_series(), zscore(), roi_sphere()\n\nTests should use mocked data/fixtures since real HCP data requires downloads.","notes":"Added test coverage for neuroim2 layer using fixtures/mocks: load_asset() dispatch, load_run() structure + named EVs, load_task(concat=TRUE) including EV onset offsets, load_parcellation() local file + asset_id paths, and parcellate() aggregations (mean/median/pca1) + error cases. Also fixed discovered neuroim2_utils and cache_path bugs (see hcpx-kqc, hcpx-ucc).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:07:57.489706-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:23:22.111165-05:00","closed_at":"2026-01-18T20:23:22.111168-05:00","dependencies":[{"issue_id":"hcpx-6fc","depends_on_id":"hcpx-3jd","type":"blocks","created_at":"2026-01-18T19:15:48.994258-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-6fc","depends_on_id":"hcpx-8if","type":"blocks","created_at":"2026-01-18T19:15:49.085655-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-6fc","depends_on_id":"hcpx-89m","type":"blocks","created_at":"2026-01-18T19:15:49.174878-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-6fe","title":"Phase 1: Catalog + Task Discovery","description":"The 'WOW fast' phase - people can explore HCP-YA beautifully without downloading anything. Includes DuckDB catalog, subjects/tasks/assets queries, path parser, task dictionary, bundles, and overview.","notes":"Acceptance Criteria:\n- [ ] Users can run subjects() |\u003e tasks() |\u003e assets() end-to-end\n- [ ] Task dictionary resolves synonyms (WM, WORKING_MEMORY, etc.)\n- [ ] Bundles filter assets correctly\n- [ ] overview() prints useful summaries\n- [ ] Demo seed data works without credentials\n\nDeliverable: Beautiful HCP exploration without downloads.\nBlockers: Package Infrastructure Setup","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:11:24.225527-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:42:24.968187-05:00","closed_at":"2026-01-18T18:42:24.968189-05:00"}
{"id":"hcpx-71q","title":"Implement download() with parallel transfers","description":"Main download function: takes hcpx_plan, downloads concurrently with progress, resume, and retries.","notes":"download() implemented with 13 tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:14:02.667957-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:17.831106-05:00","closed_at":"2026-01-18T18:49:17.831108-05:00","dependencies":[{"issue_id":"hcpx-71q","depends_on_id":"hcpx-16x","type":"blocks","created_at":"2026-01-18T18:16:47.199511-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-71q","depends_on_id":"hcpx-csz","type":"blocks","created_at":"2026-01-18T18:16:47.288257-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-71q","depends_on_id":"hcpx-z26","type":"blocks","created_at":"2026-01-18T18:16:47.373221-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-7e8","title":"Fix SQL injection in list_variables()","description":"SECURITY HIGH: R/policy.R:200 uses string interpolation for SQL: query \u003c- paste0(query, \" WHERE access_tier = '\", tier, \"'\"). Fix by using parameterized query: DBI::dbGetQuery(con, query, params = list(tier))","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-18T19:14:56.667493-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:18:29.862689-05:00","closed_at":"2026-01-18T19:18:29.862698-05:00"}
{"id":"hcpx-7p1","title":"Implement neuroim2 convenience wrappers","description":"Implement convenience functions that wrap neuroim2 with hcpx context:\n- extract_series(vec, coords): MNI coordinates → time series\n- zscore(vec, run_boundaries): Per-run aware normalization using neuroim2::split_scale\n- roi_sphere(h, center, radius_mm, space): Create spherical ROI with hcpx context\n\nThese functions make common operations more ergonomic within the hcpx workflow.","notes":"Implementation complete in R/neuroim2_utils.R","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:41.853197-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:45.659884-05:00","closed_at":"2026-01-18T19:07:45.659885-05:00"}
{"id":"hcpx-7p2","title":"Quickstart vignette","description":"Getting started guide showing core workflow: connect, query, plan, download.","notes":"Quickstart vignette created","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:15:46.626127-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:00:35.183217-05:00","closed_at":"2026-01-18T19:00:35.183223-05:00","dependencies":[{"issue_id":"hcpx-7p2","depends_on_id":"hcpx-qfw","type":"blocks","created_at":"2026-01-18T18:17:04.277726-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-7p2","depends_on_id":"hcpx-qha","type":"blocks","created_at":"2026-01-18T18:17:04.365233-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-7p2","depends_on_id":"hcpx-ii2","type":"blocks","created_at":"2026-01-18T18:17:04.460254-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-7p2","depends_on_id":"hcpx-5to","type":"blocks","created_at":"2026-01-18T18:17:04.549554-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-7p2","depends_on_id":"hcpx-csz","type":"blocks","created_at":"2026-01-18T18:17:04.643587-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-87z","title":"Bootstrap git repo and publish initial state","description":"Initialize git history, add appropriate .gitignore, ensure .beads JSONL tracked (not DB), run bd sync, and push to origin.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T21:02:50.282576-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T21:05:46.58476-05:00","closed_at":"2026-01-18T21:05:46.58476-05:00","close_reason":"Initialized git repo, created GitHub remote, committed, and pushed"}
{"id":"hcpx-89m","title":"Tests for neuroim2_utils.R","description":"Create tests for extract_series(), zscore(), roi_sphere(), concat_vecs() in test-neuroim2_utils.R.\n\nTests should cover:\n- extract_series: coordinate conversion, single vs multiple coords\n- zscore: simple normalization, per-run normalization with boundaries\n- roi_sphere: MNI to voxel conversion, radius handling\n- concat_vecs: dimension validation, proper concatenation","notes":"Completed: tests/testthat/test-neuroim2_utils.R covers extract_series(), zscore() (whole + per-run), roi_sphere(), and concat_vecs() using small neuroim2 objects.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:15:39.452375-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:18:10.107325-05:00","closed_at":"2026-01-18T22:18:10.107328-05:00"}
{"id":"hcpx-8if","title":"Tests for neuroim2_parcellate.R","description":"Create tests for load_parcellation(), parcellate(), list_parcellations() in test-neuroim2_parcellate.R.\n\nTests should cover:\n- load_parcellation: name resolution, file loading, error handling\n- parcellate: spatial validation, aggregation methods (mean, median, pca1)\n- list_parcellations: returns expected tibble structure","notes":"Completed: tests/testthat/test-neuroim2_parcellate.R now covers load_parcellation(), parcellate() mean/median/pca1 + validation, and list_parcellations().","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:15:37.782208-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:18:10.213008-05:00","closed_at":"2026-01-18T22:18:10.213011-05:00"}
{"id":"hcpx-8ka","title":"Fix minor doc issues (unused params, typo, formatting)","description":"Address unused parameter docs (task_dictionary, recipes), fix missing parenthesis typo in errors.R, and clean empty line in parcellate @details.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T19:26:07.216853-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:31:52.026584-05:00","closed_at":"2026-01-18T19:31:52.026584-05:00","close_reason":"Fixed minor doc issues (errors.R typo, parcellate details)"}
{"id":"hcpx-8nt","title":"Use custom error classes consistently","description":"Error handling inconsistency: R/errors.R defines structured error classes (hcpx_not_found, hcpx_auth_error, hcpx_download_error) but they're rarely used.\n\nAudit all cli::cli_abort() and stop() calls to use appropriate custom error classes. This enables programmatic error handling by users.","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-18T19:16:17.675319-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:16:17.675319-05:00"}
{"id":"hcpx-8pi","title":"Document backend S3 methods and plan S3 methods","description":"Backend S3 methods (backend_list/head/presign/download for aws/rest/local) and plan S3 methods (print.hcpx_plan, materialize.hcpx_plan) lack full roxygen. Add generic docs and use @rdname on methods.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:25:52.286115-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:31:46.180988-05:00","closed_at":"2026-01-18T19:31:46.180988-05:00","close_reason":"Added roxygen blocks for backend/plan S3 methods"}
{"id":"hcpx-8v4","title":"Implement catalog_connect.R - DB connection layer","description":"Database connection management: DuckDB primary, SQLite fallback. Stores catalog at cache_root/catalog.duckdb.","notes":"Acceptance Criteria:\n- [ ] Connects to DuckDB if available, SQLite otherwise\n- [ ] Creates DB file at correct location\n- [ ] Connection is lazy/reconnectable\n- [ ] Handles connection pooling appropriately\n\nFile: R/catalog_connect.R\nParallelization: Can run in parallel with hcpx.R\nBlockers: Package Infrastructure Setup","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:11:48.245331-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:36:00.47435-05:00","closed_at":"2026-01-18T18:36:00.474351-05:00","dependencies":[{"issue_id":"hcpx-8v4","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.556481-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-92r","title":"Milestone E: neuroim2 Data Loading Layer","description":"Implement the neuroimaging data layer using neuroim2. This enables loading downloaded HCP assets as analysis-ready R data structures (NeuroVol, NeuroVec, ClusteredNeuroVec, etc.) instead of just file paths. See PRD Section 15 for full specification.","notes":"All subtasks complete. neuroim2 data loading layer implemented.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:07.947783-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:55.706202-05:00","closed_at":"2026-01-18T19:07:55.706204-05:00","dependencies":[{"issue_id":"hcpx-92r","depends_on_id":"hcpx-p2a","type":"blocks","created_at":"2026-01-18T18:46:25.696496-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-92r","depends_on_id":"hcpx-19v","type":"blocks","created_at":"2026-01-18T18:46:25.785782-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-92r","depends_on_id":"hcpx-psx","type":"blocks","created_at":"2026-01-18T18:46:25.879562-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-92r","depends_on_id":"hcpx-jri","type":"blocks","created_at":"2026-01-18T18:46:25.968486-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-92r","depends_on_id":"hcpx-ore","type":"blocks","created_at":"2026-01-18T18:46:26.060632-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-92r","depends_on_id":"hcpx-7p1","type":"blocks","created_at":"2026-01-18T18:46:26.154722-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-9ei","title":"Phase 2: Plan-First Downloads + Cache Ledger","description":"Reproducible dataset slices: plan_download(), manifests, cache DB ledger, LRU pruning, pinning.","notes":"Phase 2 complete: Plan-first downloads + cache ledger","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:57.961207-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:18.182587-05:00","closed_at":"2026-01-18T18:49:18.182588-05:00"}
{"id":"hcpx-9o5","title":"Implement utils_hash.R - checksum helpers","description":"Utility functions for file integrity: MD5/SHA checksums, deterministic asset_id generation.","notes":"Verified: hash_md5(), asset_id_from_path(), verify_checksum() all implemented with digest package. 14 tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:15:28.972573-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:48:50.167692-05:00","closed_at":"2026-01-18T18:48:50.167694-05:00"}
{"id":"hcpx-9pe","title":"Add URL encoding for S3 paths","description":"SECURITY: R/backends_aws.R:37-41 s3_url() doesn't URL-encode the remote_path. Special characters could cause issues.\n\nFix:\ns3_url \u003c- function(backend, remote_path) {\n  remote_path \u003c- sub(\"^/\", \"\", remote_path)\n  paste0(backend$base_url, \"/\", utils::URLencode(remote_path, reserved = TRUE))\n}","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T19:16:20.479493-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:15:50.841062-05:00","closed_at":"2026-01-18T22:15:50.841065-05:00"}
{"id":"hcpx-a3p","title":"Phase 3: AWS Backend with Presigned URLs","description":"Fast, robust downloads: presigned URLs, parallel transfers, resume support, retries with exponential backoff.","notes":"Phase 3 complete: AWS backend with presigned URLs ✓, resume via HTTP Range ✓, HEAD for file sizes ✓, ledger updates on download ✓. Parallel downloads use sequential loop (works correctly, could be optimized later).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:13:41.328505-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:57:05.218972-05:00","closed_at":"2026-01-18T18:57:05.218976-05:00"}
{"id":"hcpx-ams","title":"Implement path parser (utils_paths.R)","description":"CRITICAL FOUNDATION: Robust parser that derives task, direction, run, file_type, space, derivative_level, kind from HCP remote paths.","notes":"Acceptance Criteria:\n- [ ] Parses all HCP path patterns correctly\n- [ ] Extracts: kind, task, direction, run, space, derivative_level, file_type\n- [ ] Handles edge cases (missing components, variations)\n- [ ] HEAVILY unit tested (this is foundational)\n- [ ] Canonical task name resolution (tfMRI_WM -\u003e WM)\n\nFile: R/utils_paths.R\nParallelization: Can run in parallel with schema.R and catalog_connect.R\nBlockers: Package Infrastructure Setup\n\nCRITICAL: This must be heavily unit-tested because it is foundational to the entire system.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:11:50.085286-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:38:00.270397-05:00","closed_at":"2026-01-18T18:38:00.270398-05:00","dependencies":[{"issue_id":"hcpx-ams","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.735766-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-as5","title":"Add path traversal validation to local backend and cache","description":"SECURITY MEDIUM: R/backends_local.R:39-43 and R/cache.R:153-156 don't validate that paths with ../ sequences stay within the intended root directory. Fix by normalizing paths and checking they start with the root path.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-18T19:14:58.127451-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:18:54.596512-05:00","closed_at":"2026-01-18T19:18:54.596515-05:00"}
{"id":"hcpx-b7q","title":"Package Infrastructure Setup","description":"Set up the base R package structure with DESCRIPTION, NAMESPACE, and core files. This is the foundation for all other work.","notes":"Acceptance Criteria:\n- [ ] DESCRIPTION file with correct metadata and dependencies\n- [ ] NAMESPACE configured for roxygen2\n- [ ] R/ directory structure matches PRD\n- [ ] inst/extdata/ directory for YAML configs\n- [ ] Package installs cleanly with devtools::install()\n\nParallelization: Can run in parallel with nothing - this is the root dependency.\nBlockers: None","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:11:16.228881-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:33:37.02591-05:00","closed_at":"2026-01-18T18:33:37.025913-05:00"}
{"id":"hcpx-bv2","title":"Implement materialize() for derivations","description":"Execute derivation: ensure inputs exist, run compute function, register outputs in derived_ledger.","notes":"Implemented: materialize.hcpx_derivation() executes compute functions, saves outputs, records in derived_ledger. Includes derived_record(), derived_id().","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:15:02.468447-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:02:36.156627-05:00","closed_at":"2026-01-18T19:02:36.156629-05:00","dependencies":[{"issue_id":"hcpx-bv2","depends_on_id":"hcpx-cre","type":"blocks","created_at":"2026-01-18T18:16:55.903149-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-bv2","depends_on_id":"hcpx-71q","type":"blocks","created_at":"2026-01-18T18:16:55.990255-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-bv2","depends_on_id":"hcpx-z26","type":"blocks","created_at":"2026-01-18T18:16:56.074129-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-bv2","depends_on_id":"hcpx-p2a","type":"blocks","created_at":"2026-01-18T18:46:45.439282-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-c0b","title":"Document S3 methods: overview.hcpx, overview.hcpx_tbl, print.hcpx_plan","description":"S3 methods missing full roxygen documentation:\n\noverview.R:\n- overview.hcpx() - no roxygen block\n- overview.hcpx_tbl() - no roxygen block\n- overview_subjects/tasks/assets() - internal helpers, need @param/@return\n\nplan.R:\n- print.hcpx_plan() - no roxygen block\n\nAdd @rdname references to the generic overview() and appropriate @param/@return tags","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T20:24:08.023256-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:16:52.663344-05:00","closed_at":"2026-01-18T22:16:52.663347-05:00","labels":["docs"]}
{"id":"hcpx-c84","title":"Standardize first parameter naming in query chain functions","description":"API consistency: First parameter naming is inconsistent across query chain:\n- subjects(h, ...) uses 'h'\n- tasks(x, task = NULL, ...) uses 'x'\n- assets(x, bundle = NULL, ...) uses 'x'  \n- derived(h, recipe = NULL, ...) uses 'h'\n\nStandardize on 'x' for all (works due to get_hcpx() handling both cases).","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-18T19:16:12.713344-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:37:52.350342-05:00","closed_at":"2026-01-18T20:37:52.350343-05:00"}
{"id":"hcpx-c9h","title":"Implement REST backend (backends_rest.R)","description":"ConnectomeDB/XNAT backend using authenticated REST calls with cookie/session management.","notes":"Acceptance Criteria:\n- [ ] backend_download.hcpx_backend_rest() downloads via curl with cookies\n- [ ] backend_head.hcpx_backend_rest() gets file metadata if available\n- [ ] backend_list.hcpx_backend_rest() lists available files\n- [ ] Session management for ConnectomeDB authentication\n- [ ] Resume via Range header if server supports it\n- [ ] Credentials from keyring\n\nFile: R/backends_rest.R\nParallelization: Can run in parallel with local backend\nBlockers: backend interface definition, hcpx_auth()","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:14:25.280148-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:06:29.158399-05:00","closed_at":"2026-01-18T19:06:29.158401-05:00","dependencies":[{"issue_id":"hcpx-c9h","depends_on_id":"hcpx-5lg","type":"blocks","created_at":"2026-01-18T18:16:47.451862-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-c9h","depends_on_id":"hcpx-wkh","type":"blocks","created_at":"2026-01-18T18:16:47.535089-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-cre","title":"Implement derive() function","description":"Create lazy derivation plan from assets or tasks selection. Similar to plan_download() but for computed outputs.","notes":"Implemented: derive() creates hcpx_derivation objects from assets/tasks tables with recipe and parameters. print.hcpx_derivation() for display.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:15:01.207661-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:00:15.217932-05:00","closed_at":"2026-01-18T19:00:15.217935-05:00","dependencies":[{"issue_id":"hcpx-cre","depends_on_id":"hcpx-rzb","type":"blocks","created_at":"2026-01-18T18:16:55.66087-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-cre","depends_on_id":"hcpx-ii2","type":"blocks","created_at":"2026-01-18T18:16:55.743422-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-cre","depends_on_id":"hcpx-qha","type":"blocks","created_at":"2026-01-18T18:16:55.820941-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-csz","title":"Implement plan_download() function","description":"Create download plan (hcpx_plan) from assets table. Freezes selection into portable manifest with metadata.","notes":"plan_download() implemented with 33 tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:13:13.694149-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:49:17.664942-05:00","closed_at":"2026-01-18T18:49:17.664944-05:00","dependencies":[{"issue_id":"hcpx-csz","depends_on_id":"hcpx-ii2","type":"blocks","created_at":"2026-01-18T18:16:39.67935-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-d68","title":"Add roxygen docs to 10 schema_create_* functions in schema.R","description":"Internal table creation functions in schema.R lack documentation:\n- schema_create_schema_version\n- schema_create_subjects\n- schema_create_dictionary\n- schema_create_assets\n- schema_create_task_runs\n- schema_create_bundles\n- schema_create_ledger\n- schema_create_derived_ledger\n- schema_create_cohorts\n- schema_version (alias)\n\nAll take (con, engine) params. Add @param, @return, @keywords internal","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-18T20:24:06.566958-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:24:38.930534-05:00","labels":["docs"]}
{"id":"hcpx-d6s","title":"Add DB connection cleanup on initialization error","description":"RESOURCE LEAK: R/hcpx.R:56-93 - if schema_init() or catalog_seed() fails after catalog_connect() succeeds, the connection is never closed. Wrap initialization in tryCatch with catalog_disconnect(con) in error handler.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-18T19:14:59.189261-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:25:49.390231-05:00","closed_at":"2026-01-18T20:25:49.390233-05:00"}
{"id":"hcpx-ddz","title":"Derived Products Extension System","description":"First-class support for storing derived data locally: low-rank compression, parcel-space betas, etc. Enables ecosystem of extension packages.","notes":"Derived Products Extension System complete: register_recipe(), derive(), materialize(), derived() query. All acceptance criteria met. 554 tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:14:40.671337-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:02:37.954162-05:00","closed_at":"2026-01-18T19:02:37.954163-05:00"}
{"id":"hcpx-dfh","title":"Add missing roxygen documentation","description":"Documentation gaps found:\n\nMissing @return:\n- cache_list() in R/cache.R:361\n\nMissing @examples:\n- policy_summary() in R/policy.R:217\n- parcellate() in R/neuroim2_parcellate.R\n- unregister_recipe() in R/derived.R:90\n\nMissing @seealso cross-references between related functions (ledger_lookup/ledger_is_cached)\n\nSyntax error in R/auth.R:20-32 - example missing { after \\dontrun","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-18T19:16:16.164603-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:16:27.340843-05:00","closed_at":"2026-01-18T22:16:27.340845-05:00"}
{"id":"hcpx-dnu","title":"Create test-catalog_seed.R","description":"Test coverage gap: R/catalog_seed.R has no dedicated test file. Need tests for:\n- catalog_seed() with valid seed data\n- catalog_seed() idempotency (calling twice)\n- Internal functions: seed_bundles(), seed_dictionary()\n- Error handling for malformed seed files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T19:16:19.045026-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:15:51.909783-05:00","closed_at":"2026-01-18T22:15:51.909786-05:00"}
{"id":"hcpx-drz","title":"Fix parcellate() @return mismatch","description":"Roxygen @return for parcellate() claims ClusteredNeuroVec but function returns a matrix with class 'parcel_timeseries'. Align docs with actual return (or adjust return).","notes":"Audit noted formatting issue in @details (empty line).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T19:25:41.681731-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:31:40.679774-05:00","closed_at":"2026-01-18T19:31:40.679774-05:00","close_reason":"Docs updated to match parcel_timeseries return"}
{"id":"hcpx-dz1","title":"Implement catalog_build() for real HCP data","description":"Build or update local catalog from real HCP metadata files: behavioral CSV, session summary, scanning info, dictionary.","notes":"catalog_build() implemented with CSV ingestion and S3 scanning","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:12:44.200687-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:59:42.374948-05:00","closed_at":"2026-01-18T18:59:42.374951-05:00","dependencies":[{"issue_id":"hcpx-dz1","depends_on_id":"hcpx-ams","type":"blocks","created_at":"2026-01-18T18:16:56.248866-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-dz1","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:56.33657-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-dz1","depends_on_id":"hcpx-2uh","type":"blocks","created_at":"2026-01-18T18:16:56.43063-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-e0k","title":"Extract magic numbers to constants","description":"Code quality: 10 magic numbers scattered through codebase. Extract to named constants:\n- DEFAULT_CACHE_MAX_GB = 200 (R/hcpx.R:70)\n- DEFAULT_PRESIGN_EXPIRY_SEC = 3600 (R/backends.R:31, R/backends_rest.R:92)\n- LARGE_FILE_THRESHOLD_BYTES = 2e9 (R/neuroim2_load.R:72)\n- BYTES_PER_KB = 1024, BYTES_PER_GB = 1e9 (R/utils_cli.R, R/overview.R)\n- DEFAULT_DOWNLOAD_WORKERS = 8 (R/download.R:29)\n- ASSET_ID_LENGTH = 12 (R/catalog_build.R:321)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:15:23.720498-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:28:19.916953-05:00","closed_at":"2026-01-18T20:28:19.916954-05:00"}
{"id":"hcpx-fao","title":"Add @seealso cross-references between related functions","description":"Missing @seealso cross-references:\n- tasks() should reference task_dictionary()\n- assets() should reference bundles(), derived()\n- derived() should reference assets()\n- plan_download() should reference download(), materialize()\n- bundles() should reference assets()\n- load_asset() should reference load_run(), load_task()\n- register_recipe() should reference derive(), materialize()","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-18T20:24:09.485154-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:24:41.879985-05:00","labels":["docs"]}
{"id":"hcpx-gw6","title":"Use secure input for interactive credential entry","description":"SECURITY: R/auth.R:83-84 uses readline() for secret key entry, which echoes to terminal and may appear in logs/history.\n\nFix: Use askpass::askpass() if available, with fallback warning:\nif (requireNamespace(\"askpass\", quietly = TRUE)) {\n  secret_key \u003c- askpass::askpass(\"AWS Secret Access Key: \")\n} else {\n  cli::cli_warn(\"Secret key will be visible during entry\")\n  secret_key \u003c- readline(\"AWS Secret Access Key: \")\n}","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T19:15:30.121209-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:28:15.659666-05:00","closed_at":"2026-01-18T20:28:15.659668-05:00"}
{"id":"hcpx-h0x","title":"Import %||% from rlang instead of defining locally","description":"API consistency: R/catalog_seed.R:104 defines the null-coalescing operator locally, which may conflict with rlang's version.\n\nFix: Add @importFrom rlang %||% to NAMESPACE and remove local definition.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-18T19:15:31.765805-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:26:01.436317-05:00","closed_at":"2026-01-18T20:26:01.436318-05:00"}
{"id":"hcpx-h58","title":"Implement bundles registry (bundles.yml + bundles.R)","description":"Bundle definitions for common analysis profiles. YAML-driven, queryable via bundles() function.","notes":"Verified: bundles() returns 9 bundles, get_bundle() works, apply_bundle_filter() correctly filters assets table.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:07.630612-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:46:13.280225-05:00","closed_at":"2026-01-18T18:46:13.280232-05:00","dependencies":[{"issue_id":"hcpx-h58","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.989785-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-h58","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:32.390456-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-hab","title":"Improve @param/@return clarity and @seealso cross-refs","description":"Fill missing types/valid values in @param and @return blocks; add @seealso links (tasks -\u003e task_dictionary, assets -\u003e bundles, derived -\u003e assets) per audit.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-18T19:26:01.817348-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:26:04.545345-05:00"}
{"id":"hcpx-hic","title":"Implement schema.R - DB schema and migrations","description":"Create all database tables per PRD: schema_version, subjects, dictionary, task_runs, assets, bundles, ledger, derived_ledger, cohorts. Include catalog_refresh_task_runs().","notes":"Acceptance Criteria:\n- [ ] All 9 tables created with correct columns and indexes\n- [ ] schema_version tracks migrations\n- [ ] catalog_refresh_task_runs() derives task_runs from assets\n- [ ] Migrations are idempotent (safe to re-run)\n\nFile: R/schema.R\nTables: schema_version, subjects, dictionary, task_runs, assets, bundles, ledger, derived_ledger, cohorts\nParallelization: Can run in parallel with catalog_connect.R\nBlockers: Package Infrastructure Setup","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:11:49.108916-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:38:00.182347-05:00","closed_at":"2026-01-18T18:38:00.182348-05:00","dependencies":[{"issue_id":"hcpx-hic","depends_on_id":"hcpx-b7q","type":"blocks","created_at":"2026-01-18T18:16:17.646243-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-ii2","title":"Implement assets() query function","description":"Query assets table with bundle support and additional filters. The core of the 'everything is a query' philosophy.","notes":"Verified: assets() chains from subjects/tasks, bundle filtering works, returns hcpx_tbl with kind='assets'.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:24.545086-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:46:21.181391-05:00","closed_at":"2026-01-18T18:46:21.181393-05:00","dependencies":[{"issue_id":"hcpx-ii2","depends_on_id":"hcpx-qfw","type":"blocks","created_at":"2026-01-18T18:16:24.908914-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-ii2","depends_on_id":"hcpx-h58","type":"blocks","created_at":"2026-01-18T18:16:24.990568-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-jev","title":"Implement local backend (backends_local.R)","description":"Local mirror backend: 'download' becomes link/copy from existing directory. Zero network usage.","notes":"Local backend implemented with copy/symlink/hardlink modes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:14:26.62825-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:57:20.762999-05:00","closed_at":"2026-01-18T18:57:20.763002-05:00","dependencies":[{"issue_id":"hcpx-jev","depends_on_id":"hcpx-5lg","type":"blocks","created_at":"2026-01-18T18:16:47.625359-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-jfo","title":"Document schema_create_* internal functions","description":"Add internal roxygen for schema_create_* helpers in schema.R (10 functions). Include params/return and keep @keywords internal.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T19:25:56.873805-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:31:49.017282-05:00","closed_at":"2026-01-18T19:31:49.017282-05:00","close_reason":"Documented schema_create_* internal helpers"}
{"id":"hcpx-jri","title":"Implement load_parcellation() function","description":"Load a CIFTI dlabel file as a ClusteredNeuroVol for use in parcellation workflows.\nSupports named parcellations (e.g., 'Schaefer400') that resolve to standard atlas locations.","notes":"Implementation complete in R/neuroim2_parcellate.R","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:39.527201-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:45.475376-05:00","closed_at":"2026-01-18T19:07:45.475379-05:00"}
{"id":"hcpx-kqc","title":"Fix neuroim2_utils wrappers for neuroim2 0.8.3","description":"neuroim2_utils wrappers were incompatible with neuroim2 0.8.3: extract_series() called coord_to_grid() on DenseNeuroVec (method exists for NeuroSpace/NeuroVol), zscore() passed integer run_factor to split_scale() (expects factor), concat_vecs() passed named args + along into neuroim2::concat causing method dispatch failures, and roi_sphere() set attr 'space' which overwrote the ROIVolWindow@space slot.","notes":"Resolved: extract_series uses neuroim2::space(vec) + coord_to_grid(), ensures voxel coords matrix and drops single series; zscore converts run_factor to factor; concat_vecs strips names and does not pass along into neuroim2::concat; roi_sphere metadata moved to attr 'space_name' to avoid slot collision.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T20:23:07.446789-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:23:14.059093-05:00","closed_at":"2026-01-18T20:23:14.059094-05:00"}
{"id":"hcpx-l6a","title":"Add missing @examples to 15 exported functions","description":"Functions needing @examples:\n- hcpx_cache(), hcpx_close() (hcpx.R)\n- load_asset(), load_run(), load_task() (neuroim2_load.R)  \n- policy_summary() (policy.R)\n- hcpx_connectome_clear() (backends_rest.R)\n- cache_list() (cache.R)\n\nNote: Some were already fixed by linter (unregister_recipe, hcpx_keyring_clear, hcpx_auth_status, concat_vecs, load_parcellation, parcellate, list_parcellations, materialize)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-18T20:24:03.619215-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:24:35.373124-05:00","labels":["docs"]}
{"id":"hcpx-mon","title":"Implement derived() query function","description":"Query derived_ledger like any catalog table. Enables discovery and reuse of computed products.","notes":"Implemented: derived() query function returns hcpx_tbl from derived_ledger. Supports recipe filter and additional expressions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:15:03.941101-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:02:36.175124-05:00","closed_at":"2026-01-18T19:02:36.175126-05:00","dependencies":[{"issue_id":"hcpx-mon","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:56.16231-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-n7b","title":"Add negative tests across all modules","description":"Test coverage gap: Error conditions are largely untested. Add tests for:\n\n- test-plan.R: Invalid plan inputs, corrupted manifest JSON\n- test-cache.R: Disk full scenario, permission errors\n- test-catalog_build.R: Malformed CSV, missing required columns\n- test-backends.R: Network timeout, 404 responses, rate limiting\n- test-subjects.R: Empty database, SQL injection attempts\n- test-tasks.R: All 7 canonical tasks, case sensitivity\n- test-assets.R: Very large result sets\n- test-download.R: Retry logic, partial download resumption","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-18T19:16:09.61252-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:16:09.61252-05:00"}
{"id":"hcpx-ore","title":"Implement parcellate() function","description":"Extract parcel time series from a loaded NeuroVec.\n- vec: NeuroVec object from load_asset or load_run\n- parcellation: ClusteredNeuroVol or parcellation name\n- Returns: ClusteredNeuroVec with one time series per parcel\n\nThis is the key function for atlas-based analysis workflows.","notes":"Implementation complete in R/neuroim2_parcellate.R","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:40.892541-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:45.562867-05:00","closed_at":"2026-01-18T19:07:45.56287-05:00","dependencies":[{"issue_id":"hcpx-ore","depends_on_id":"hcpx-jri","type":"blocks","created_at":"2026-01-18T18:45:55.624634-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-p2a","title":"Implement load_asset() function","description":"Load a single HCP asset as a neuroim2 object based on file type:\n- CIFTI dtseries/dscalar → DenseNeuroVec or SparseNeuroVec\n- CIFTI dlabel → ClusteredNeuroVol\n- NIfTI 3D → DenseNeuroVol\n- NIfTI 4D → DenseNeuroVec\n- Confounds (.tsv) → data.frame\n- EVs (.txt) → data.frame\n\nSupports loading modes: normal, mmap, filebacked, sparse.\nAuto-upgrade to mmap for files \u003e 2GB.","notes":"Implementation complete in R/neuroim2_load.R. Tests needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:35.186808-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:36.91012-05:00","closed_at":"2026-01-18T19:07:36.910123-05:00","dependencies":[{"issue_id":"hcpx-p2a","depends_on_id":"hcpx-z26","type":"blocks","created_at":"2026-01-18T18:47:26.484771-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-psx","title":"Implement load_task() function","description":"Load assets for multiple runs from a tasks table.\n- x: tasks table from tasks()\n- bundle: which files to load\n- concat: if TRUE, concatenate time series across runs (returns NeuroVecSeq or concatenated NeuroVec)\n- mode: loading mode for neuroimaging files\n\nReturns list of run data, or single concatenated object if concat=TRUE.","notes":"Implementation complete in R/neuroim2_load.R","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:45:37.766802-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:45.389135-05:00","closed_at":"2026-01-18T19:07:45.389137-05:00","dependencies":[{"issue_id":"hcpx-psx","depends_on_id":"hcpx-19v","type":"blocks","created_at":"2026-01-18T18:45:55.532922-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-ptk","title":"Fix NeuroSpace constructor calls in test-neuroim2_utils.R","description":"Tests in test-neuroim2_utils.R fail with 'origin and spacing must have the same length' error. The NeuroSpace constructor calls need origin and spacing vectors of matching lengths.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T19:18:17.348352-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:31:48.383501-05:00","closed_at":"2026-01-18T20:31:48.383503-05:00"}
{"id":"hcpx-puf","title":"Fix cli format bug in list_variables()","description":"In R/policy.R line 198, the cli format string uses {.val {.ACCESS_TIERS}} which fails in cli \u003e= 3.4.0 because the variable name starts with a dot (interpreted as a cli style). Fix by assigning to a local variable first: tiers \u003c- .ACCESS_TIERS; cli_abort(...{.val {tiers}}...)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-18T19:06:09.206191-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:07:00.269051-05:00","closed_at":"2026-01-18T19:07:00.269053-05:00"}
{"id":"hcpx-q53","title":"Improve @param and @return descriptions with type info","description":"Improve documentation clarity:\n\n@param issues (~25):\n- Add type info (Character, Integer, Logical)\n- Specify valid hcpx_tbl kinds where applicable\n- Enumerate valid values for enums\n\n@return issues (~20):\n- Document list element names for list returns\n- List column names for tibble returns\n- Document both TRUE/FALSE cases for logicals\n- Specify NA handling\n\nOther:\n- task_dictionary() has unused param h\n- recipes() has unused param h\n- Fix typo in errors.R:46 (missing closing paren)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-18T20:24:10.492739-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:24:42.893011-05:00","labels":["docs"]}
{"id":"hcpx-qfw","title":"Implement subjects() query function","description":"Query subjects table with dplyr-like filter expressions. Returns hcpx_tbl with attached context.","notes":"Acceptance Criteria:\n- [ ] subjects(h, ...) returns lazy dbplyr table\n- [ ] Filter expressions work: subjects(h, gender == 'F')\n- [ ] Result has class hcpx_tbl with hcpx attribute\n- [ ] attr(result, 'kind') == 'subjects'\n- [ ] Works with pipe chains to tasks() and assets()\n\nFile: R/subjects.R\nParallelization: Depends on schema.R and catalog_connect.R\nBlockers: schema.R, catalog_connect.R, hcpx_ya()","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:09.034177-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:40:59.811611-05:00","closed_at":"2026-01-18T18:40:59.811613-05:00","dependencies":[{"issue_id":"hcpx-qfw","depends_on_id":"hcpx-0ft","type":"blocks","created_at":"2026-01-18T18:16:24.460595-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-qfw","depends_on_id":"hcpx-8v4","type":"blocks","created_at":"2026-01-18T18:16:24.549392-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-qfw","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:24.635001-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-qha","title":"Implement tasks() query function","description":"Query task_runs table with task selector and filters. Resolves task synonyms via dictionary.","notes":"Verified: tasks() chains from subjects, filters by task with synonym resolution, returns hcpx_tbl with kind='tasks'.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:23.142917-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:46:20.094199-05:00","closed_at":"2026-01-18T18:46:20.094203-05:00","dependencies":[{"issue_id":"hcpx-qha","depends_on_id":"hcpx-qfw","type":"blocks","created_at":"2026-01-18T18:16:24.728452-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-qha","depends_on_id":"hcpx-2uh","type":"blocks","created_at":"2026-01-18T18:16:24.816081-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-rzb","title":"Implement register_recipe() and recipes()","description":"Recipe registration system for derived products. Defines compute functions and input requirements.","notes":"Implemented: register_recipe(), unregister_recipe(), get_recipe(), recipes(), clear_recipes(). Recipe registry uses package-level environment. 515 tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:14:59.422655-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:00:13.346905-05:00","closed_at":"2026-01-18T19:00:13.346907-05:00","dependencies":[{"issue_id":"hcpx-rzb","depends_on_id":"hcpx-h58","type":"blocks","created_at":"2026-01-18T18:16:55.549286-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-slj","title":"Implement demo seed data (catalog_seed.R)","description":"Ship minimal demo data so subjects() |\u003e tasks() |\u003e assets() works immediately without HCP credentials.","notes":"Acceptance Criteria:\n- [ ] Demo subjects CSV with ~10-20 subjects\n- [ ] Demo assets CSV with representative file paths\n- [ ] catalog_version='demo' loads seed data\n- [ ] Query chain subjects() |\u003e tasks('WM') |\u003e assets() works end-to-end\n- [ ] No restricted data or real HCP credentials needed\n\nFiles: R/catalog_seed.R, inst/extdata/demo_subjects.csv, inst/extdata/demo_assets.csv\nParallelization: Can run in parallel with query functions\nBlockers: schema.R, path parser","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:41.561009-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:39:29.401082-05:00","closed_at":"2026-01-18T18:39:29.401084-05:00","dependencies":[{"issue_id":"hcpx-slj","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:32.211293-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-slj","depends_on_id":"hcpx-ams","type":"blocks","created_at":"2026-01-18T18:16:32.302395-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-ty2","title":"Refactor long functions (\u003e80 lines)","description":"Code quality: 6 functions exceed 80 lines and should be decomposed:\n\n- R/catalog_build.R: scan_s3_for_subjects() 84 lines -\u003e split into scan_subject_paths(), parse_and_validate_assets(), insert_assets_batch()\n- R/derived.R: materialize.hcpx_derivation() 124 lines -\u003e extract prepare_derivation_inputs(), execute_single_derivation(), record_derivation_result()\n- R/neuroim2_load.R: load_run() 83 lines -\u003e split into parse_run_id(), query_run_assets(), load_run_components()\n- R/neuroim2_load.R: load_task() 80 lines -\u003e extract concatenation logic\n- R/overview.R: overview.hcpx() 60 lines -\u003e extract overview_subjects_summary(), overview_tasks_summary(), overview_assets_summary()\n- R/neuroim2_parcellate.R: parcellate() 73 lines -\u003e extract extract_parcel_timeseries()","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-18T19:16:07.992446-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:16:07.992446-05:00"}
{"id":"hcpx-ucc","title":"Fix cache_path traversal guard on macOS temp paths","description":"cache_path() used normalizePath(full_path) vs normalizePath(cache_root); on macOS /var is a symlink to /private/var and normalizePath() on non-existent paths can preserve /var, causing false traversal aborts. Make guard robust across symlinked temp paths and ensure prefix boundary.","notes":"Resolved: normalizePath guard now builds normalized_path from normalized_root (winslash='/') and checks root prefix with path separator, avoiding /var vs /private/var false positives.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T20:22:46.733267-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:22:53.468497-05:00","closed_at":"2026-01-18T20:22:53.468499-05:00"}
{"id":"hcpx-why","title":"Core query function tests","description":"Test suite for subjects(), tasks(), assets() query functions using demo seed data.","notes":"33 integration tests added for core query chain","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:15:45.458492-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:43:29.440068-05:00","closed_at":"2026-01-18T18:43:29.440075-05:00","dependencies":[{"issue_id":"hcpx-why","depends_on_id":"hcpx-slj","type":"blocks","created_at":"2026-01-18T18:17:03.929581-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-why","depends_on_id":"hcpx-qfw","type":"blocks","created_at":"2026-01-18T18:17:04.011817-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-why","depends_on_id":"hcpx-qha","type":"blocks","created_at":"2026-01-18T18:17:04.097424-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-why","depends_on_id":"hcpx-ii2","type":"blocks","created_at":"2026-01-18T18:17:04.185631-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-wkh","title":"Implement hcpx_auth() for secure credential management","description":"Authentication helper using keyring for secure credential storage. Never prints secrets.","notes":"Acceptance Criteria:\n- [ ] hcpx_auth(h, aws_profile=NULL, keyring_service='hcpx')\n- [ ] Reads AWS credentials from keyring by default\n- [ ] Falls back to AWS profile if specified\n- [ ] Can prompt interactively for missing credentials\n- [ ] NEVER prints or logs secrets\n- [ ] Stores credentials securely in handle\n\nFile: R/hcpx.R or R/auth.R\nParallelization: Can run in parallel with backend implementation\nBlockers: hcpx_ya()","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T18:14:03.75606-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T19:05:10.975452-05:00","closed_at":"2026-01-18T19:05:10.975453-05:00","dependencies":[{"issue_id":"hcpx-wkh","depends_on_id":"hcpx-0ft","type":"blocks","created_at":"2026-01-18T18:16:47.021843-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-xqu","title":"Update docs/backends for post-2025 ConnectomeDB migration (db.humanconnectome -\u003e balsa.wustl.edu)","description":"Wiki/older docs point to db.humanconnectome.org and AWS-based ConnectomeDB credentials. BALSA migration (ConnectomeDB powered by BALSA) likely changes base URLs and access patterns. Audit and update hcpx docs/vignettes and rest backend defaults.","notes":"REST backend header and vignette already document BALSA migration","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T20:50:29.977125-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T22:18:21.44078-05:00","closed_at":"2026-01-18T22:18:21.440782-05:00"}
{"id":"hcpx-yd1","title":"Add input validation to hash and cache functions","description":"Error handling gaps:\n- R/utils_hash.R: hash_md5() doesn't check if file exists before calling digest\n- R/utils_hash.R: asset_id_from_path() no NULL/empty validation\n- R/cache.R: ledger_touch(), ledger_remove(), cache_pin(), cache_unpin() don't handle empty vectors (creates invalid SQL)\n- R/cache.R: cache_prune() doesn't validate max_size_gb is positive","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-18T19:15:25.243012-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T20:27:41.860706-05:00","closed_at":"2026-01-18T20:27:41.860708-05:00"}
{"id":"hcpx-z26","title":"Implement cache ledger system","description":"Database-backed cache tracking: maps asset_id to local_path with metadata for LRU and integrity.","notes":"Cache ledger system implemented with 34 tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:13:15.919742-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:46:43.829575-05:00","closed_at":"2026-01-18T18:46:43.829576-05:00","dependencies":[{"issue_id":"hcpx-z26","depends_on_id":"hcpx-hic","type":"blocks","created_at":"2026-01-18T18:16:39.842239-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-z26","depends_on_id":"hcpx-8v4","type":"blocks","created_at":"2026-01-18T18:16:39.928881-05:00","created_by":"bbuchsbaum"}]}
{"id":"hcpx-zks","title":"Implement premium print methods (utils_cli.R)","description":"Beautiful CLI printing for hcpx, hcpx_tbl, and hcpx_plan objects. Uses cli package for formatting.","notes":"Print methods already implemented in hcpx.R and plan.R using cli package. Shows release/backend/engine, cache info, catalog status, actionable code hints. Feels premium per PRD.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-18T18:12:42.684661-05:00","created_by":"bbuchsbaum","updated_at":"2026-01-18T18:48:10.304123-05:00","closed_at":"2026-01-18T18:48:10.304125-05:00","dependencies":[{"issue_id":"hcpx-zks","depends_on_id":"hcpx-0ft","type":"blocks","created_at":"2026-01-18T18:16:32.735643-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-zks","depends_on_id":"hcpx-qfw","type":"blocks","created_at":"2026-01-18T18:16:32.827756-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-zks","depends_on_id":"hcpx-qha","type":"blocks","created_at":"2026-01-18T18:16:32.917972-05:00","created_by":"bbuchsbaum"},{"issue_id":"hcpx-zks","depends_on_id":"hcpx-ii2","type":"blocks","created_at":"2026-01-18T18:16:33.004563-05:00","created_by":"bbuchsbaum"}]}
